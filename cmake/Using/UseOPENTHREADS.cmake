MACRO(USE_OPENTHREADS)
  FIND_PACKAGE(OpenThreads)
  IF ((NOT OPENTHREADS_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing Freetype")
    RETURN()
  ENDIF((NOT OPENTHREADS_FOUND) AND (${ARGC} LESS 1))
  IF(NOT OPENTHREADS_USED AND OPENTHREADS_FOUND)
    SET(OPENTHREADS_USED TRUE)
    INCLUDE_DIRECTORIES(SYSTEM ${OPENTHREADS_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${OPENTHREADS_LIBRARIES})
  ENDIF()
ENDMACRO(USE_OPENTHREADS)

