MACRO(USE_CGNS)
  FIND_PACKAGE(HDF5)
  IF (HDF5_FOUND)
    COVISE_FIND_PACKAGE(CGNS)
    USE_HDF5()
  ELSE(HDF5_FOUND)
    USING_MESSAGE("Using CGNS without HDF5")
    COVISE_FIND_PACKAGE(CGNS)
  ENDIF(HDF5_FOUND)
  IF ((NOT CGNS_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing CGNS")
    RETURN()
  ENDIF((NOT CGNS_FOUND) AND (${ARGC} LESS 1))
  IF(NOT CGNS_USED AND CGNS_FOUND)
    SET(CGNS_USED TRUE)
    USE_OPENGL()
    INCLUDE_DIRECTORIES(${CGNS_INCLUDE_DIR})
    SET(EXTRA_LIBS ${CGNS_LIBRARIES} ${EXTRA_LIBS})
  ENDIF()

ENDMACRO(USE_CGNS)

