MACRO(USE_LIBUSB1)
  COVISE_FIND_PACKAGE(LibUSB1)
  IF ((NOT LIBUSB1_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing LibUSB1")
    RETURN()
  ENDIF((NOT LIBUSB1_FOUND) AND (${ARGC} LESS 1))
  IF(NOT LIBUSB1_USED AND LIBUSB1_FOUND)
    SET(LIBUSB1_USED TRUE)
    INCLUDE_DIRECTORIES(${LIBUSB1_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${LIBUSB1_LIBRARIES})
    USING_MESSAGE("found LibUSB1")
  ENDIF()
ENDMACRO(USE_LIBUSB1)
  
