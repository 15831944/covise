<!DOCTYPE html>   
<html lang="en">   
  <head>   
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>COVISE - Server Room Optimization</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/hlrs-covise.png"> 

    <!-- jquery -->
    <script src="jquery/jquery-2.0.3.min.js"></script>
    <script src="jquery/jquery-ui.custom.js"></script>
    <script src="jquery/jquery.cookie.js"></script>

    <script src="jquery/jquery.dynatree.js"></script>
    <link href="jquery/skin/ui.dynatree.css" rel="stylesheet">

    <!-- bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">     
    <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">    
    <link href="bootstrap/css/bootstrap-form.css" rel="stylesheet">

    <!-- bootstrap plugin file upload-->
    <script src="bootstrap/plugins/bootstrap-fileupload.js"></script>
    <link href="bootstrap/plugins/bootstrap-fileupload.css" rel="stylesheet">  
    
    <!-- Form validator plugin -->
    <script src="bootstrap/js/bootstrap-form.js"></script>

    <!-- bootstrap plugins such as tab-->
    <script src="bootstrap/js/bootstrap.js"></script>

    <!-- Canvas fabric -->
    <script src="js/fabric.all.min.js"></script>

    <!-- bootstrap slider -->
    <link href="bootstrap/slider/css/slider.css" rel="stylesheet"> 
    <script src="bootstrap/slider/js/bootstrap-slider.js"></script>

    <!-- HLRS CSS -->    
    <link href="css/hlrs.css" rel="stylesheet">

    <!-- covise web service stub generated by Apache cxf --> 
    <script src="js/cxf-utils.js"></script>
    <script src="js/cxfCoviseWsStub.js"></script>

    <!-- log4js -->
    <script src="js/log4javascript.js"></script>

    <!-- covise client js -->
    <script src="js/cxfCovise.js"></script>
   
    <!-- bootstrap form validation -->
    <!--
    <script type="text/javascript" src="bootstrap/validation/bootstrap.validate.js"> </script>
    <script type="text/javascript" src="bootstrap/validation/bootstrap.validate.en.js"> </script>
    --> 

    <style type="text/css">
      ul.dynatree-container span.td {
         position: absolute;
         display: inline;
         border-size: 1px;
         overflow: hidden;
         background-color: white;
      }
      ul.dynatree-container span.td:nth-child(1) {
         position: static;
      }
      ul.dynatree-container span.td:nth-child(2) {
         color: red;
         //left: 150px;
         left: 500px;
         width: 50px;
      }
      ul.dynatree-container span.td:nth-child(3) {
         color: green;
         //left: 200px;
         left: 650px;
         //width: 150px;
         width: 150px;
      }
    </style>
 

    
    <script type="text/javascript">
      $(document).ready(function() {
        initCovise("serverRoomSim"); 
        openCoviseNet();
        createDynatree();
        getFileInfoList(''); 
      });

      $(window).unload(function() {
        stopCovise();
       });

      $(window).resize(function() {
        canvasCalcOffset();
       });

      function fileChange()
      {
        $("#divFileProgress").show();

        //FileList Objekt aus dem Input Element mit der ID "fileA"
        var fileList = document.getElementById("plmXmlFile").files;

        //File Objekt (erstes Element der FileList)
        var file = fileList[0];

        //File Objekt nicht vorhanden = keine Datei ausgewählt oder vom Browser nicht unterstützt
        if(!file)
            return;

        document.getElementById("fileSize").innerHTML = 'Size: ' + file.size + ' B';
        document.getElementById("fileType").innerHTML = 'Type: ' + file.type;
        document.getElementById("progress").value = 0;
        document.getElementById("prozent").innerHTML = "0%";

        $('#uploadHelp').text("Please upload the chosen file now.");
      }
    </script>
  </head>

  <!--<body class="container-fluid" onload="init("serverRoomSim")"> -->
  <body class="container-fluid">
     
    <!-- <div class="row-fluid">
      <div class="span12"> 
        <div id="logo-group">
          <a href="">
            <img class="img" src="img/hlrs_logo_tuerkis.png" height="48" width="200"/>
            <img class="img" src="img/covise_logo_trans_black.png" height="48" width="200"/> 
          </a> 
        </div>        
      </div>
    </div> -->

    <!-- <h1> Computer Room Optimization </h1>
    <hr></hr>    -->
  
    <div class="row-fluid", align="left">      
      <div class="span6"> 
        <form class="form-horizontal" id="rechenraumOptForm">  
          <!-- Module Parameters -->  
          <div class="row-fluid">              
            <div class="span12">        
              <fieldset id="moduleParam"> 
                <legend>COVISE Module Parameters</legend>

                <div class="control-group" id="csFiles">
                  <label>PLMXML File</label> 

                  <div id="tree"> 
                  </div>

                  <div class="pull-right" id="csButtons">
                    <a data-toggle="modal" href="#mNew" class="btn btn-primary">New</a>
                    <a data-toggle="modal" href="#mUpload" class="btn btn-primary">Upload</a>
                    <a data-toggle="modal" href="#mDelete" class="btn btn-primary">Delete</a>                    
                  </div>
                </div> 


                <!-- modal new -->
                <div id="mNew" class="modal hide fade in" style="display: none; ">  
                  <div class="modal-header">  
                    <a class="close" data-dismiss="modal">×</a>  
                    <h3>Create Directoy</h3>  
                  </div>

                  <div class="modal-body">                   
                    <input type="text" id="newDir" class="input-medium" required="required">
                    <p class="help-block" id="uploadHelp">Please give the new directory name.</p>                              
                  </div>       

                  <div class="modal-footer">
                    <a href="#" class="btn" data-dismiss="modal">Cancel</a>  
                    <a href="#" class="btn btn-success">Ok</a>  
                  </div>
                </div>  


                <!-- modal upload -->
                <div id="mUpload" class="modal hide fade in" style="display: none; ">  
                  <div class="modal-header">  
                    <a class="close" data-dismiss="modal">×</a>  
                    <h3>Upload File</h3>  
                  </div>

                  <div class="modal-body">                   
                    <div class="fileupload fileupload-new" data-provides="fileupload" id="divFileChoose">
                      <span class="btn btn-file btn-primary">
                        <span class="fileupload-new">choose file</span>
                        <span class="fileupload-exists">change</span>
                        <input type="file" id="plmXmlFile" onchange="fileChange()"/>
                      </span>
                      <span class="fileupload-preview"></span>
                        <a href="#" class="close fileupload-exists" data-dismiss="fileupload" style="float:none">×</a>
                      <div id="divFileInfo">
                        <div id="fileName"></div>
                        <div id="fileSize"></div>
                        <div id="fileType"></div>                
                      </div>
                      <p class="help-block">Please choose one file first.</p>  
                    </div>

                    <div id="divFileUpload">
                      <button type="button" class="btn btn-primary" id="fileUploadButton" onclick="uploadFile()">upload</button> 
                      
                      <div id="divFileProgress">
                        <progress id="progress" style="margin-top:10px" max="100"></progress> 
                        <span id="prozent"></span>                  
                      </div>
                      
                      <p class="help-block" id="uploadHelp">Please upload the chosen file now.</p>
                    </div>    
                  </div>

                  <div class="modal-footer">
                    <a href="#" class="btn" data-dismiss="modal">Cancel</a>   
                    <a href="#" class="btn btn-success">Ok</a>  
                  </div>

                </div> 


                 <!-- modal new -->
                <div id="mDelete" class="modal hide fade in" style="display: none; ">  
                  <div class="modal-header">  
                    <a class="close" data-dismiss="modal">×</a>  
                    <h3>Delete File</h3>  
                  </div>

                  <div class="modal-body">                   
                    Are you sure you want to delete the selected File?                             
                  </div>       

                  <div class="modal-footer"> 
                    <a href="#" class="btn" data-dismiss="modal">Cancel</a>  
                    <a href="#" class="btn btn-success">Ok</a>  
                  </div>
                </div>                      
              
                <div class="control-group">
                  <label>Isosurface</label> 
                  <div class="input-append" id="divCutSurface">  
                    <!--               
                    <input type="text" id="cutSurface" class="input-mini">
                    -->
                  </div>                  
                </div>

                <div class="control-group" id="divColorMap">
                  <label> Color Map</label>  
                  <select name="colorMap" id="colorMap">
                    <option>IAG</option>  
                    <option>Blue</option>  
                    <option>Blue-light</option>  
                    <option>MTransparent</option>  
                    <option>Star</option> 
                    <option>ITSM</option>  
                    <option>Rainbow</option>   
                  </select> 
                </div>

              </fieldset>
                                  
              <p></p>            
          
              <div class="pull-right">
                <button type="button" class="btn btn-primary" onclick="executeNet()">Execute COVISE</button>
                <input type="button" name="reloadVnc" value="load Renderer" onlick="parent.VNC.location.reload()"></input>
              </div>

            </div>
          </div> 

        </form>
      </div>

      <!-- Renderer -->    
      <!-- <div class="span6"> 
        <fieldset> 
          <legend>Renderer</legend>
          <div class="row-fluid">              
            <div class="span12" id="webGLrenderer">
		<iframe src="http://visgaialinguest.hlrs.de:6080/vnc.html?host=visgaialinguest.hlrs.de&port=6080&loggin=debug" width="1250" height="940"  name="renderertest">
		</iframe> 
            </div>
          </div>
        </fieldset> 
      </div>  -->         
    </div>
  </body>

</html>
